```
#include <stdio.h>
#include "securec.h"

#define STR_MAX_LEN 128
#define ARR_MAX_LEN 64

typedef struct {
    int pos;
    char name[STR_MAX_LEN];
} NamePos;

/* 辅助函数，无需修改。此函数用于：拆分字符串。
 * 注：input参数不能为const char*，否则会导致程序崩溃。
 */
static int SplitString(char *input, const char *delim, int bufSize, char result[][STR_MAX_LEN]);

// 辅助函数，无需修改。解析每行目录结构，如“|-|-C”，解析后pos = 2, name = "C"
static void PreProcessLine(char lines[][STR_MAX_LEN], int num, NamePos *nameData);

// 待实现函数，在此函数中填入答题代码
static int DelDir(const char toDel[][STR_MAX_LEN], int toDelNum, NamePos *nameData, int num)
{
    return 0;
}

int main(void)
{
    char toDelLine[STR_MAX_LEN];
    if (gets_s(toDelLine, sizeof(toDelLine)) == NULL) { return -1; }
    char toDel[ARR_MAX_LEN][STR_MAX_LEN];
    int toDelNum = 0;
    toDelNum = SplitString(toDelLine, " ", ARR_MAX_LEN, toDel);

    int num = 0;
    if (scanf_s("%d", &num) != 1) { return -1; }

    char lines[ARR_MAX_LEN][STR_MAX_LEN];
    for (int i = 0; i < num; i++) {
        if (scanf_s("%s", &lines[i], STR_MAX_LEN) != 1) { return -1; }
    }
    NamePos nameData[ARR_MAX_LEN] = { 0 };
    PreProcessLine(lines, num, nameData);

    int output = DelDir(toDel, toDelNum, nameData, num);
    printf("%d", output);

    return 0;
}

static void PreProcessLine(char lines[][STR_MAX_LEN], int num, NamePos *nameData)
{
    for (int i = 0; i < num; i++) {
        int pos = 0;
        int j = 0;
        size_t len = strlen(lines[i]);
        for (j = 0; j < len - 1; j += 2) {
            if (lines[i][j] == '|' && (lines[i][j + 1] == '-')) {
                pos++;
            } else {
                break;
            }
        }
        nameData[i].pos = pos;
        if (memset_s(nameData[i].name, STR_MAX_LEN, 0, STR_MAX_LEN) != EOK) { return; }
        if (memcpy_s(nameData[i].name, STR_MAX_LEN, &(lines[i][j]), STR_MAX_LEN - j - 1) != EOK) { return; }
    }
}

static int SplitString(char *input, const char *delim, int bufSize, char result[][STR_MAX_LEN])
{
    int cnt = 0;
    char *buff = NULL;
    char *p = strtok_s(input, delim, &buff);
    if (p == NULL) { return cnt; }
    while (p != NULL) {
        if (cnt >= bufSize) { return 0; }
        if (strcpy_s(result[cnt], STR_MAX_LEN, p) != EOK) { return 0; }
        p = strtok_s(NULL, delim, &buff);
        cnt++;
    }

    return cnt;
}

#if 0
输入：
B Cpp --要删除的目录名列表
6     ---下面是6个目录
A
|-B
|-|-Cpp
|-|-B
|-|-|-B
|-lib32

输出：
4 ---满足条件的可以删除的有4个目录

A Java
5
A
|-a
|-|-A
|-A
|-|-A

3
#endif
```
